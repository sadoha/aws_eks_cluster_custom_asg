locals {
  certificate_body = <<CERTIFICATEBODY
-----BEGIN CERTIFICATE-----
MIIDFjCCAf4CCQC7hBeLxGWCRjANBgkqhkiG9w0BAQsFADBNMQswCQYDVQQGEwJ1
czELMAkGA1UECAwCTlkxCzAJBgNVBAcMAk5ZMQ4wDAYDVQQKDAVPTE9MTzEUMBIG
A1UEAwwLZXhhbXBsZS5jb20wHhcNMjAwMjE5MjAxMzEzWhcNMjEwMjE4MjAxMzEz
WjBNMQswCQYDVQQGEwJ1czELMAkGA1UECAwCTlkxCzAJBgNVBAcMAk5ZMQ4wDAYD
VQQKDAVPTE9MTzEUMBIGA1UEAwwLZXhhbXBsZS5jb20wggEiMA0GCSqGSIb3DQEB
AQUAA4IBDwAwggEKAoIBAQDUbw6g0lvLJlZtz98qWJSa2hzvb17DHrycSu6g0rRw
v1VtEaPvsGtBOlGa2WD8Q8Rgc2MO4oaxJTUZm+G/QBPyH17kSd5fCnNgsQGa5nI5
CdMlsK8albjzDXrKtCNmm9hEx7Zk8FZIibB2+x9+TDWw9ovIEgP7z/wuGxNtDR6I
2+QFM6UPiBWRk5QsLUWNJ2SzB0uRN9S0Uc74rZMjM5YT+KNUj0rNTU5k24gzmrkF
27Jd+BzBKGhl6Wwxz2bnNieVPqZsIDdoAb6xZ9if0hM1RDBiE8cNQ2V5RuLnoAWg
vnLT//DWogoU/6sgwGJWXjUWEyRsEmDk5H8hJP2IeLVxAgMBAAEwDQYJKoZIhvcN
AQELBQADggEBABmRjdj/4CBDx6vxmWxouP+HtBqYmBrWTaOu5/6gygkQiqMDjUyE
irfNHPSidqrjLDaJ4hxjLRuhixr3AFU8ibXx47BOKK4L+dwkBdUvUSYm4A/OedvP
ajpUx7KvcUoeEDfUqSyx3i1QBm3NAvrkUEf306MYe03rYw9FQVdQowsLDPu3ILAS
1nXyrNjWrt81+L3fRYyJEmuzu6G+sP19/GWKHjDQhk89TxnDjikFNcj2reMmL9NC
oXSxcJrOGYo5JJAmPzlcVopdzRiXLP1KI3S94IZwenAFmsmbqoRqts70XKOSbEaA
I+VL+UgsUkD+VXMuVkABETvLk2DxcIZPWJA=
-----END CERTIFICATE-----
CERTIFICATEBODY

  private_key = <<PRIVATEKEY
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA1G8OoNJbyyZWbc/fKliUmtoc729ewx68nEruoNK0cL9VbRGj
77BrQTpRmtlg/EPEYHNjDuKGsSU1GZvhv0AT8h9e5EneXwpzYLEBmuZyOQnTJbCv
GpW48w16yrQjZpvYRMe2ZPBWSImwdvsffkw1sPaLyBID+8/8LhsTbQ0eiNvkBTOl
D4gVkZOULC1FjSdkswdLkTfUtFHO+K2TIzOWE/ijVI9KzU1OZNuIM5q5BduyXfgc
wShoZelsMc9m5zYnlT6mbCA3aAG+sWfYn9ITNUQwYhPHDUNleUbi56AFoL5y0//w
1qIKFP+rIMBiVl41FhMkbBJg5OR/IST9iHi1cQIDAQABAoIBACvAu+iPquxKdx6i
47nbCLBkH/WIoKHbYMln/YIOI6/dGIEgUv14/n4uvsP/5aPPaVDcMxjLuyYdHbSq
kHJNhk4l++tU84HrqxvNGSGIORpaVay7mTUGhVM6AYJiW7A0hPSVlZFwlrTV9wxq
aHAgziYmgV+xpjRk//GXDgc13oYdM98Z2MkkLb7Bpq4567Pf/oJdDmahYcLVFjHG
izdwhsgIOexoArWGESo75wnqEsiLFz9BMemE0ePgD83C7O5i023nf7XKdBrAzPh3
P5q1VfZg+OlGPvX4vQTQ58QdeG3LMWNt3XA8XLkQ+IDpQJk0Rt06QroK/3KYIvUa
zCXX7AECgYEA73C7X09pHtpIUb9u3LwVGsVs2hhtkl/ai+tyGO7duQ2Iyuqk5w0J
Lg0LJhpoKWLS3VVybKd6+klfTI4OO9sfgZ5jUGcNF5Pqv1uVkAXJt4QRPXc/yASW
uYVcDSLNT3hHKB9fQVtcZb8er5m03FZ7Uve/oRjXAiU/rhCwkUzRmeECgYEA4yAt
UmafRPN3AVYpwc7W179Vxcyy4sa8zxQfMxVGOzyLzT/27IDKu3oymg0JzzLMJUo2
Fdtq/DpRFKSTQgJE0IJ3FxrYJIwKaMyBTGVKO4gZ9yk0HDyvMb7tqzps5JmpL/O4
1NeZ6FuJVLTyYlXSkkguarOovIXrfdta8mw0LZECgYEAvY03KGrLQ1t2qRCtiR10
b68fT0DLbXdooiAQQWDIMnlec5VyWl9dhxFYZB+/mhPb7tB4N0AXAREY2pgS+Jut
w4VKBhquqJ221yp/qnaKjDeHFmvTGFtZnyDOELAebO1BF6hOVoUnDn1Qo59BKLVm
B/aNw9DQVah7UydvQHfZ7sECgYEAm1+qwYEEmaW4Foj8HeJCpOr2YU8MXQi5pyvL
wCVgmytrM+j7IYVlquUIcsxSlpTYhPYEk+U7hfra9rUzK+fjbYSitYKetDm88T5d
gYaVRq5vnN5qEJsO+ofzjLx2O9hGnlArdCdd2U+tXe4/FjhByeJpJoNq/jTbCYki
6U5OT5ECgYA9FcEnrRqUId4SP7qDoQtacpuMDawZrj/SU7ChWX0oj82uWgl7W6T2
AQWJw3YeAl6X05lbPR+Z124tYA2JhG/IJ/ciPGIqeJZ39eKucOwKUveI5MT+2Peh
wKOCcAO/VUY7MpWY2vEqS9MFF13ADEJBlDAl/FGdUN+gRLwpd4kX1w==
-----END RSA PRIVATE KEY-----
PRIVATEKEY
}


resource "aws_iam_server_certificate" "cert" {
  name_prefix      		= "example.com"
  certificate_body 		= local.certificate_body
  private_key      		= local.private_key 

  lifecycle {
    create_before_destroy 	= true
  }
}

